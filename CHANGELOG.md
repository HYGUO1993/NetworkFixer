# 更新日志 (Changelog)

## [v2.0.1] - 2026-02-23

### ✨ 界面改进 (UI)
- 修复主按钮在部分主题下文字不可见的问题。
- 修复按钮区最后一个按钮被挤压过窄的问题，改为四列等宽布局。
- 将修复选项区升级为更紧凑的两栏卡片布局（基础修复 / 高级修复）。
- 新增顶部状态徽标，实时显示就绪、执行中、测试中、完成、异常状态。

### 📝 文档同步 (Docs)
- 同步更新 README、重构计划、实施日志与性能说明文档，确保版本与结构一致。

### ✅ 兼容性
- 不引入新的运行时依赖，继续保持纯标准库运行。

## [v2.0.0] - 2026-02-23

### 🚀 重构 (Refactor)
- 完成单文件架构拆分为 `networkfixer/` 包结构（`core` / `ui` / `models` / `i18n` / `utils`）。
- 入口 `fix_network.py` 简化为提权与启动编排，核心逻辑迁移到包内模块。

### 🔒 安全与稳定性 (Security & Stability)
- 修复 Tkinter 线程安全风险：后台线程 UI 更新统一经主线程调度。
- 命令执行默认使用 `shell=False` 与参数列表，降低命令注入风险。
- 连通性测试改为局部超时，避免全局 `socket.setdefaulttimeout` 副作用。
- `is_admin()` 改为捕获明确异常类型，移除裸露 `except:`。

### 🌍 可用性 (Usability)
- 新增中英文翻译框架与词条，默认支持中文界面。
- 保留原有修复流程与交互习惯，兼容现有使用方式。
- UI 视觉微调：主按钮层级、分组卡片风格、日志区深色对比主题（不新增依赖）。

### 🧪 测试与工程化 (In Progress)
- `tests/` 目录已建立，测试基线与 CI/CD 流程将在后续版本补齐。

## [v1.0.1] - 2025-12-31

### 🐛 修复 (Fixes)
- **修复编码问题**：解决了在某些系统上执行 `netsh` 或 `ipconfig` 命令时因非标准字符输出导致的 `UnicodeDecodeError` 崩溃问题。现在程序能正确处理 GBK/ANSI 编码的命令输出。
- **修复网卡识别**：优化了 `netsh interface show interface` 的解析逻辑，现在可以正确识别名称中包含空格的网卡（例如 "Ethernet 2" 或 "本地连接 2"），修复了网卡列表为空的问题。

## [v1.0.0] - 2025-12-31
- 初始版本发布。
- 支持关闭系统代理、刷新 DNS、重置 Winsock、重置 IP 等基础功能。
- 支持连通性测试 (Ping/HTTP)。
